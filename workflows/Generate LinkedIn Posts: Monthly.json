{"createdAt":"2025-09-10T06:33:17.118Z","updatedAt":"2025-09-10T10:46:32.000Z","id":"B7xKydDpenu7tfah","name":"Generate LinkedIn Posts: Monthly","active":true,"isArchived":false,"nodes":[{"parameters":{"rule":{"interval":[{"field":"months"}]}},"type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.2,"position":[-496,-368],"id":"7e584772-8afe-46d3-8543-68de57f0f80c","name":"Mid Night Trigger to Create Posts"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"a2a164d8-2d0a-48d8-a9d8-4f799eb959ff","leftValue":"={{ $('Checking If Task Done for this month or not').item.json}}","rightValue":"","operator":{"type":"object","operation":"empty","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[592,-144],"id":"4d7fcc3d-46e1-4547-bb8f-4d3c66aa762c","name":"Are Posts already Created?"},{"parameters":{"content":"### Monthly Trigger\n\n1. This trigger executes on **1st of every Month** to create all Post for this month.\n2. It executes at **0.00 AM of 1st on every month**.\n","height":1008,"width":256,"color":6},"type":"n8n-nodes-base.stickyNote","position":[-560,-720],"typeVersion":1,"id":"96327ce3-7fe3-469a-bc62-36da5487d775","name":"Sticky Note"},{"parameters":{"content":"### Designing Email Template\n\n1. In this part, we are designing the email template.","height":368,"width":208,"color":3},"type":"n8n-nodes-base.stickyNote","position":[320,-720],"typeVersion":1,"id":"2e29273d-b53a-46cf-8281-c03d9996bb5b","name":"Sticky Note4"},{"parameters":{"assignments":{"assignments":[{"id":"0cda0556-9b8b-4ec1-a187-565ffcd6447e","name":"subject","value":"= LinkedIn Posts for \"{{ $('Mid Night Trigger to Create Posts').item.json.Month }}-{{ $('Mid Night Trigger to Create Posts').item.json.Year }}\" Month Already Designed","type":"string"},{"id":"9af72325-79eb-4445-9b50-7996e42210c8","name":"body","value":"=<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>LinkedIn Posts Status</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; color: #333333; line-height: 1.6;\">\n  <p>Hi Prasad Sawant,</p>\n\n  <p>\n    I wanted to inform you that the LinkedIn post generation for \n    <strong>{{ $('Mid Night Trigger to Create Posts').item.json.Month }}-{{ $('Mid Night Trigger to Create Posts').item.json.Year }}</strong> has been completed.\n    All posts for the month have been successfully generated and are ready.\n  </p>\n\n  <p>\n    No further action is needed from the generation side at this point. You can proceed with scheduling or reviewing them if required.\n  </p>\n\n  <p>Best regards,<br>\n  <strong>N8N Workflow Automation</strong><br>\n  <a href=\"https://portfolio.prasadsawant.com\" target=\"_blank\">portfolio.prasadsawant.com</a>\n  </p>\n</body>\n</html>\n","type":"string"},{"id":"d0fe132d-6733-4111-898b-26c78794d0df","name":"to","value":"=prasadsawant1618@gmail.com","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[400,-544],"id":"7fc493a4-df8b-4238-ad07-ee889b198f23","name":"Set Email Template: Already Done","disabled":true},{"parameters":{"content":"### Designing Email Template\n\n1. In this part, we are designing the email template.","height":368,"width":2464,"color":3},"type":"n8n-nodes-base.stickyNote","position":[544,-720],"typeVersion":1,"id":"3cee0096-e56d-4fa7-945c-2e0d2639a2d9","name":"Sticky Note5"},{"parameters":{"sendTo":"={{ $json.to }}","subject":"={{ $json.subject }}","message":"={{ $json.body }}","options":{"appendAttribution":false,"senderName":"LinkedIn Automation Team"}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[640,-544],"id":"67097b00-ae56-4eca-bd6a-9cce700aeab4","name":"Inform LinkedIn Holder About Already Done Status","webhookId":"5cfd6d2b-4151-4cf0-b77b-98ff929f20b1","credentials":{"gmailOAuth2":{"id":"Cvn2NEdre5yz0on6","name":"Gmail account: prasadsawant1618@gmail.com"}},"disabled":true},{"parameters":{"content":"### Get Schedule Dates\nFind **Sunday** and **Wednesday** for the posts","height":1008,"width":592},"type":"n8n-nodes-base.stickyNote","position":[-288,-720],"typeVersion":1,"id":"eb9aa31f-e9eb-4969-81ec-f383e49c2c05","name":"Sticky Note6"},{"parameters":{"operation":"select","schema":{"__rl":true,"mode":"list","value":"public"},"table":{"__rl":true,"value":"linkedin_post_generation_tasks","mode":"list","cachedResultName":"linkedin_post_generation_tasks"},"limit":1,"where":{"values":[{"column":"schedule_publish_date","value":"={{ $('Loop Over Items').item.json.day }}"}]},"options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[400,-144],"id":"22947159-994a-4d41-bc74-377dd47caeb7","name":"Checking If Task Done for this month or not","alwaysOutputData":true,"credentials":{"postgres":{"id":"odt4ipqVoAUDhpSK","name":"Postgres account: hostinger"}}},{"parameters":{"language":"python","pythonCode":"import datetime\nimport calendar\n\ndef get_sundays_and_wednesdays(month_start: str):\n    \"\"\"\n    Given a month start date (YYYY-MM-DD), return all Sundays and Wednesdays\n    in that month as a list of dicts.\n    \"\"\"\n    # Parse the given month start date\n    start_date = datetime.datetime.strptime(month_start, \"%Y-%m-%d\").date()\n\n    # Find last day of the month\n    _, last_day = calendar.monthrange(start_date.year, start_date.month)\n    end_date = datetime.date(start_date.year, start_date.month, last_day)\n\n    # Collect Sundays (6) and Wednesdays (2) → weekday(): Monday=0 ... Sunday=6\n    special_days = []\n    current = start_date\n    while current <= end_date:\n        if current.weekday() in (2, 6):  # 2 = Wednesday, 6 = Sunday\n            special_days.append({\n                \"month\": month_start,\n                \"day\": current.isoformat()\n            })\n        current += datetime.timedelta(days=1)\n\n    return special_days\n\n\n# Example usage inside n8n Python node\nworkflow_started_at = _input.first()[\"json\"][\"timestamp\"]\ndt = datetime.datetime.fromisoformat(workflow_started_at)\nmonth_start_date = datetime.date(dt.year, dt.month, 1).isoformat() \nresult = get_sundays_and_wednesdays(month_start_date)\n\n# Return to n8n\nreturn result\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-224,-368],"id":"a4f6aa0b-c717-4374-b7ff-620d86918913","name":"Get Dates to schedule"},{"parameters":{"batchSize":"=1","options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[48,-368],"id":"ddd553d6-a77e-434d-914a-a2a27d28dfa6","name":"Loop Over Items"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[848,48],"id":"98651239-7227-4ea0-a5a4-7bab4dc3b7ef","name":"No Operation, do nothing"},{"parameters":{"model":"llama-3.3-70b-versatile","options":{"maxTokensToSample":200,"temperature":0.7}},"type":"@n8n/n8n-nodes-langchain.lmChatGroq","typeVersion":1,"position":[1328,-112],"id":"80bebe9e-b94d-4998-a4e4-ded9cad04959","name":"Generator Brain","credentials":{"groqApi":{"id":"ZgHp1avUsEa0nmM7","name":"Diksha's Account"}}},{"parameters":{"promptType":"define","text":"=Generate a LinkedIn post topic in the field of Artificial Intelligence and Machine Learning collaboration with Mathematics. The topic should sound enthusiastic, spark curiosity, and make professionals excited to explore it further. It should be engaging, forward-looking, and highlight the sense of discovery in AI/ML innovations. Avoid generic titles—make it thought-provoking and curiosity-driven.\nbelow are already selected for this month. choose other Topics that below:\n\n{{ $json.titles }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"You are a Topic Generator for LinkedIn posts. Your task is to generate one highly engaging and curiosity-driven topic in the domain of Artificial Intelligence and Machine Learning. The topic must reflect enthusiasm, spark curiosity, and be suitable for a professional LinkedIn audience."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1328,-304],"id":"c83d9a41-57f6-404b-a559-40e2ebb718ab","name":"Topic Generator"},{"parameters":{"jsonSchemaExample":"{\n\t\"Topic\": \"Name of the topic\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[1472,-112],"id":"407c5a8b-ff8e-44eb-a6b3-07d512945b58","name":"Topic Parser"},{"parameters":{"model":"llama-3.3-70b-versatile","options":{"maxTokensToSample":1500,"temperature":0.7}},"type":"@n8n/n8n-nodes-langchain.lmChatGroq","typeVersion":1,"position":[1632,-112],"id":"d32d01b6-07be-4492-9fad-c5d50b851c4f","name":"Post Content Generation","credentials":{"groqApi":{"id":"ZgHp1avUsEa0nmM7","name":"Diksha's Account"}}},{"parameters":{"promptType":"define","text":"=*\"Write a LinkedIn post on the topic: '{{ $json.output.Topic }}'. The post should:\n\nStart with a hook that sparks curiosity.\n\nBe enthusiastic, thought-provoking, and slightly playful.\n\nHighlight the impact, possibilities, or future of AI/ML.\n\nInclude a clever or tricky idea showing how mathematical concepts help in AI/ML.\n\nEncourage readers to share their experiences or comment if they have similar thoughts.\n\nKeep the length within 250-300 words, formatted for easy LinkedIn reading (short paragraphs, maybe bullet points).\"*\n\n\nE.g\n\"As we delve deeper into the world of artificial intelligence, an intriguing question arises: what ethical responsibilities do engineers and developers hold in shaping technology's impact on society? 🤔The rapid advancement of AI is not just a technical marvel; it’s also a philosophical journey that challenges our notions of morality, accountability, and the very fabric of human interaction. By integrating ethics into AI development, we can address the potential consequences of our creations before they unfold. But here's where it gets even more fascinating! The mathematical concepts that underpin AI—especially calculus—play a crucial role in how we can model and predict these impacts. For instance, through optimization algorithms, we can minimize biases and maximize fairness in decision-making processes. The derivatives and integrals that govern these algorithms not only enhance the performance of intelligent systems but also arm us with the tools to scrutinize their consequences. Imagine a world where ethical considerations are woven into the very equations driving AI! 🌍✨ What does that mean for our future? I invite you to ponder this intersection of ethics and mathematics. How do you see the role of calculus in shaping ethical AI? Let’s share our thoughts and insights! 💬 #AIethics #Mathematics #Innovation hashtag#AI #ML\"","messages":{"messageValues":[{"message":"You are a LinkedIn Post Content Generator specializing in Artificial Intelligence and Machine Learning. Your goal is to create highly engaging, curiosity-driven, and professional posts that spark meaningful conversations. The tone should be enthusiastic yet insightful, suitable for LinkedIn’s professional audience. Avoid being overly technical; instead, make the content accessible, thought-provoking, and forward-looking.\nDo not use Markdown formatting. Give simple text formatting."}]},"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1632,-304],"id":"67adcec6-338f-41ee-b443-0ad65735ac25","name":"Post content Generator"},{"parameters":{"schema":{"__rl":true,"mode":"list","value":"public"},"table":{"__rl":true,"value":"linkedin_post_generation_tasks","mode":"list","cachedResultName":"linkedin_post_generation_tasks"},"columns":{"mappingMode":"defineBelow","value":{"domain":"AI & ML","title":"={{ $('Topic Generator').item.json.output.Topic }}","content":"={{ $json.text }}","scheduled_publish_at":"={{ new Date($('Loop Over Items').first().json.day + \"T10:25:00\").toISOString() }}","workflow_run_date":"={{ $('Mid Night Trigger to Create Posts').first().json.timestamp }}","created_by":"system","schedule_publish_date":"={{ $('Loop Over Items').first().json.day }}","status":"scheduled"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","canBeUsedToMatch":true,"removed":true},{"id":"domain","displayName":"domain","required":true,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"title","displayName":"title","required":true,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"content","displayName":"content","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"scheduled_publish_at","displayName":"scheduled_publish_at","required":false,"defaultMatch":false,"display":true,"type":"dateTime","canBeUsedToMatch":true},{"id":"workflow_run_date","displayName":"workflow_run_date","required":true,"defaultMatch":false,"display":true,"type":"dateTime","canBeUsedToMatch":true},{"id":"status","displayName":"status","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"is_deleted","displayName":"is_deleted","required":false,"defaultMatch":false,"display":true,"type":"boolean","canBeUsedToMatch":true,"removed":true},{"id":"created_by","displayName":"created_by","required":true,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"created_at","displayName":"created_at","required":false,"defaultMatch":false,"display":true,"type":"dateTime","canBeUsedToMatch":true,"removed":true},{"id":"updated_by","displayName":"updated_by","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":true},{"id":"updated_at","displayName":"updated_at","required":false,"defaultMatch":false,"display":true,"type":"dateTime","canBeUsedToMatch":true,"removed":true},{"id":"schedule_publish_date","displayName":"schedule_publish_date","required":false,"defaultMatch":false,"display":true,"type":"dateTime","canBeUsedToMatch":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[1920,-304],"id":"02d7ee58-8c9c-4d2c-88ba-9244dcccd2f6","name":"Insert rows in a table","credentials":{"postgres":{"id":"odt4ipqVoAUDhpSK","name":"Postgres account: hostinger"}}},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[2800,48],"id":"ce478149-4bd3-42ae-9c06-98911b091f5a","name":"No Operation, do nothing1"},{"parameters":{"content":"### Designing Email Template\n\n1. In this part, we are designing the email template.","height":624,"width":2688,"color":3},"type":"n8n-nodes-base.stickyNote","position":[320,-336],"typeVersion":1,"id":"0dc74db6-6646-4079-917e-7722b53c1d11","name":"Sticky Note7"},{"parameters":{"assignments":{"assignments":[{"id":"1cbfe6ba-a7ec-4989-b9f6-3b6c45760298","name":"selectQuery","value":"=SELECT title\nFROM public.linkedin_post_generation_tasks\nWHERE EXTRACT(MONTH FROM scheduled_publish_at) = {{ new Date($('Mid Night Trigger to Create Posts').item.json.timestamp).getMonth() + 1 }}\n  AND EXTRACT(YEAR FROM scheduled_publish_at) = {{ $('Mid Night Trigger to Create Posts').item.json.Year }};\n","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[832,-304],"id":"54243c81-692b-4da3-833b-b673f77c2ed6","name":"Set Query"},{"parameters":{"operation":"executeQuery","query":"{{ $json.selectQuery }}","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[992,-304],"id":"94d7e681-a24d-4fef-b39d-28f49a5961f6","name":"Get Topics in this month","alwaysOutputData":true,"credentials":{"postgres":{"id":"odt4ipqVoAUDhpSK","name":"Postgres account: hostinger"}}},{"parameters":{"language":"python","pythonCode":"titles_in_this_month = _('Get Topics in this month').all()\ntitles = []\ni=1\nfor t in titles_in_this_month:\n  titles.append(f'{i}.{t.get(\"json\",{}).get(\"title\",\"\")}\\n')\n  i=i+1\nreturn {\"titles\":''.join(titles)}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1168,-304],"id":"f534632e-138c-4a38-806c-0489071bea18","name":"Set Prompt"},{"parameters":{"resource":"image","modelId":{"__rl":true,"value":"models/gemini-2.0-flash-preview-image-generation","mode":"list","cachedResultName":"models/gemini-2.0-flash-preview-image-generation"},"prompt":"=Create a clean, modern, and professional LinkedIn banner image related to {{ $json.title }}\". \nInstructions:\n1. use 16*9 ratio \n2. Only Visual No Text on image\n3. Add Topic related image or icons or mathematical Formulae\n4. Add only topic in short and concise way on image on left top corner.(7-10 words only)","options":{}},"type":"@n8n/n8n-nodes-langchain.googleGemini","typeVersion":1,"position":[2096,-304],"id":"3918404b-2fa0-4c5f-b5a7-b54e87904118","name":"Generate an image","credentials":{"googlePalmApi":{"id":"sLRS1eWG5Hk4lnA9","name":"vsky: new"}}},{"parameters":{"method":"POST","url":"https://media.prasadsawant.com/upload/image","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2272,-304],"id":"cd0a0a28-1fec-4b36-ac18-0805576e7036","name":"Host Image on media Platform","credentials":{"httpBearerAuth":{"id":"sTw9uNUFb6LCh1SJ","name":"Media Hosting Platform API Key"},"httpHeaderAuth":{"id":"VPy1jEXo7r4zTCwp","name":"Media Hosting Platform X-Api-key"}}},{"parameters":{"schema":{"__rl":true,"mode":"list","value":"public"},"table":{"__rl":true,"value":"linkedin_post_images","mode":"list","cachedResultName":"linkedin_post_images"},"columns":{"mappingMode":"defineBelow","value":{"task_id":"={{ $('Insert rows in a table').item.json.id }}","image_url":"={{ $json.url }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","canBeUsedToMatch":true,"removed":true},{"id":"task_id","displayName":"task_id","required":true,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"image_url","displayName":"image_url","required":true,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"sort_order","displayName":"sort_order","required":false,"defaultMatch":false,"display":true,"type":"number","canBeUsedToMatch":true,"removed":true},{"id":"created_at","displayName":"created_at","required":false,"defaultMatch":false,"display":true,"type":"dateTime","canBeUsedToMatch":true,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[2480,-304],"id":"0565ee2b-0e1a-46b5-9a7e-0f05ada66a73","name":"Log The Post Image in Table","credentials":{"postgres":{"id":"odt4ipqVoAUDhpSK","name":"Postgres account: hostinger"}}}],"connections":{"Mid Night Trigger to Create Posts":{"main":[[{"node":"Get Dates to schedule","type":"main","index":0}]]},"Are Posts already Created?":{"main":[[{"node":"Set Query","type":"main","index":0}],[{"node":"No Operation, do nothing","type":"main","index":0}]]},"Set Email Template: Already Done":{"main":[[{"node":"Inform LinkedIn Holder About Already Done Status","type":"main","index":0}]]},"Inform LinkedIn Holder About Already Done Status":{"main":[[]]},"Checking If Task Done for this month or not":{"main":[[{"node":"Are Posts already Created?","type":"main","index":0}]]},"Get Dates to schedule":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Loop Over Items":{"main":[[{"node":"Set Email Template: Already Done","type":"main","index":0}],[{"node":"Checking If Task Done for this month or not","type":"main","index":0}]]},"No Operation, do nothing":{"main":[[{"node":"No Operation, do nothing1","type":"main","index":0}]]},"Generator Brain":{"ai_languageModel":[[{"node":"Topic Generator","type":"ai_languageModel","index":0}]]},"Topic Parser":{"ai_outputParser":[[{"node":"Topic Generator","type":"ai_outputParser","index":0}]]},"Topic Generator":{"main":[[{"node":"Post content Generator","type":"main","index":0}]]},"Post Content Generation":{"ai_languageModel":[[{"node":"Post content Generator","type":"ai_languageModel","index":0}]]},"Post content Generator":{"main":[[{"node":"Insert rows in a table","type":"main","index":0}]]},"Insert rows in a table":{"main":[[{"node":"Generate an image","type":"main","index":0}]]},"No Operation, do nothing1":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Set Query":{"main":[[{"node":"Get Topics in this month","type":"main","index":0}]]},"Get Topics in this month":{"main":[[{"node":"Set Prompt","type":"main","index":0}]]},"Set Prompt":{"main":[[{"node":"Topic Generator","type":"main","index":0}]]},"Generate an image":{"main":[[{"node":"Host Image on media Platform","type":"main","index":0}]]},"Host Image on media Platform":{"main":[[{"node":"Log The Post Image in Table","type":"main","index":0}]]},"Log The Post Image in Table":{"main":[[{"node":"No Operation, do nothing1","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","callerPolicy":"workflowsFromSameOwner"},"staticData":{"node:Mid Night Trigger to Create Posts":{"recurrenceRules":[]}},"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"f5d94ee1-e6c1-4bae-a703-f143e8e6a6a0","triggerCount":1,"shared":[{"createdAt":"2025-09-10T06:33:17.123Z","updatedAt":"2025-09-10T06:33:17.123Z","role":"workflow:owner","workflowId":"B7xKydDpenu7tfah","projectId":"jYp8xiWttkK2cWvC"}],"tags":[{"createdAt":"2025-09-10T06:32:54.779Z","updatedAt":"2025-09-10T06:32:54.779Z","id":"1HrooOdMrXJwKAlL","name":"v1.0.1"},{"createdAt":"2025-09-10T10:46:24.175Z","updatedAt":"2025-09-10T10:46:24.175Z","id":"IDjYTgUg34U6yuEu","name":"LinkedIn"}]}